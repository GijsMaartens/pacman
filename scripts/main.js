const levelStructure = [ 
  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
  [1, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 1],
  [1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 2, 1],
  [1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1],
  [1, 2, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 2, 1],
  [1, 1, 1, 1, 2, 1, 0, 1, 0, 1, 2, 1, 1, 1, 1],
  [1, 2, 2, 2, 2, 1, 0, 3, 0, 1, 2, 2, 2, 2, 1],
  [1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 2, 1],
  [1, 3, 2, 2, 2, 2, 3, 1, 3, 2, 2, 2, 2, 3, 1],
  [1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 2, 1],
  [1, 2, 2, 2, 2, 1, 0, 3, 0, 1, 2, 2, 2, 2, 1],
  [1, 1, 1, 1, 2, 1, 0, 1, 0, 1, 2, 1, 1, 1, 1],
  [1, 2, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 2, 1],
  [1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1],
  [1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 2, 1],
  [1, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 1],
  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
];

const keyMap = {
  38: "up",
  40: "down",
  37: "left",
  39: "right",
};

const game = new Game({ x: 450, y: 510 });

function draw() {
  game.render();
}

function keyPressed() {
  if (keyMap[keyCode]) game.input(keyMap[keyCode]);
}

function setup() {
  game.load();
  game.start(levelStructure);
}
